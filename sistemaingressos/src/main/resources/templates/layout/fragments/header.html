<!-- src/main/resources/templates/layout/fragments/header.html -->
<header xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6" th:fragment="header"
  class="bg-black border-b border-black shadow-lg fixed top-0 left-0 w-full z-30">
  <div class="max-w-7xl mx-auto flex items-center justify-between px-6 py-4">

    <!-- Busca de eventos -->
    <div class="relative w-1/2 max-w-md">
      <input type="search" id="search-eventos" placeholder="Pesquisar eventos..." th:value="${query} ?: ''"
        class="rounded-full px-3 py-2 text-black w-full border border-gray-600 bg-white" />
      <ul id="eventos-list"
        class="absolute z-50 left-0 right-0 bg-white border border-gray-300 rounded shadow mt-1 max-h-64 overflow-auto">
      </ul>
    </div>

    <!-- Botões -->
    <div class="flex items-center space-x-3">

      <!-- Se NÃO estiver autenticado, mostra botão "Entrar" -->
      <a href="/login"
        class="bg-yellow-500 text-white border border-yellow-500 rounded-full px-6 py-3 hover:bg-yellow-600 transition">
        Entrar
      </a>

      <!-- Se autenticado, mostra apenas o nome do usuário -->
      <div sec:authorize="isAuthenticated()" class="text-white mr-4">
        <span sec:authentication="principal.username"></span>
      </div>

      <!-- Botão "Negociar" para decidir entre compra ou venda -->
      <a href="/ingressos/anunciar"
        class="bg-yellow-500 text-white border border-yellow-500 rounded-full px-6 py-3 hover:bg-yellow-600 transition">
        Negociar
      </a>
    </div>

  </div>
</header>